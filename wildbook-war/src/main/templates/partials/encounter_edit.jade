form.form.ng-cloak(name="encounterForm" novalidate, wb-key-handler-form)
    md-content(layout="row" layout-fill layout-align="start center")
        label(layout-padding) Individual:
        input(flex="50" ng-if="data.encounter.individual.id" type="text" disabled="true" ng-value="data.encounter.individual.displayName")
        div(flex="50" layout="row" layout-align="start center" ng-if="! data.encounter.individual.id")
            span.brand-primary(flex="10") New
            md-select(flex="" ng-model="data.encounter.individual.species" ng-model-options="{trackBy: '$value.code'}" placeholder="Species")
                md-option(ng-value="species" ng-repeat="species in getSpecies()") {{species.name}}
        md-icon(md-svg-icon="pencil" layout-margin ng-click="editIndividual()")
        md-icon(md-svg-icon="magnify" layout-margin ng-click="findIndividual()")
        div(flex="")
    md-content(layout="row" layout-align="center center")
        md-input-container(flex="33" ng-class="{'has-error': encounterForm.date.$invalid}")
            label Date:
            date-input(name="date" ng-model="data.encounter.encDate" required)
        md-input-container(flex="33")
            label Start Time:
            time-input(ng-model="data.encounter.starttime")
        md-input-container(flex="33")
            label End Time:
            time-input(ng-model="data.encounter.endtime")
    md-content
        md-tabs(md-selected="selectedIndex" md-dynamic-height md-border-bottom)
            md-tab(label="Data")
                location-edit(location="data.encounter.location")
            md-tab(label="Images")
                wb-thumb-box(ng-if="selectedIndex == 1"
                             photos="data.photos"
                             actions="tbActions"
                             cb-delphoto="deletePhoto(id)"
                             cb-action="performAction(code, photos)")
    md-button.md-whiteframe-1dp(type="submit" ng-click="save()" aria-label="Save") Save
